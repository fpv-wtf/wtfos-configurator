!function(){"use strict";var e={883:function(e,t,r){var n,s=r(93433),i=r(1413),a=r(15861),u=r(15671),c=r(43144),o=r(87757),h=r.n(o),f=r(60136),p=r(29388),d=r(7112);!function(e){var t;!function(e){e[e.COMPLETE=0]="COMPLETE",e[e.ERROR=1]="ERROR",e[e.PROGRESS_INIT=2]="PROGRESS_INIT",e[e.PROGRESS_UPDATE=3]="PROGRESS_UPDATE",e[e.START=4]="START"}(t||(t={})),e.MessageType=t;var r=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).name="DecoderError",n}return(0,c.Z)(r)}((0,d.Z)(Error));e.DecoderError=r;var n=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).name="DecoderConfigureError",n}return(0,c.Z)(r)}(r);e.DecoderConfigureError=n;var s=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).name="EncoderError",n}return(0,c.Z)(r)}((0,d.Z)(Error));e.EncoderError=s;var i=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(e){var n;return(0,u.Z)(this,r),(n=t.call(this,e)).name="EncoderConfigureError",n}return(0,c.Z)(r)}(s);e.EncoderConfigureError=i}(n||(n={}));var x=n,l=r(29439),v=r(37762),m=r(57676),y=function(){function e(t){(0,u.Z)(this,e),this.file=void 0,this.buffer=new ArrayBuffer(0),this.bufferOffset=0,this._offset=0,this.file=t}return(0,c.Z)(e,[{key:"getNextString",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r,n,s,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,this.getNextBytes(t);case 3:r=e.sent,e.next=15;break;case 6:n=[];case 7:return e.next=9,this.getNextUint8();case 9:if(e.t0=s=e.sent,0===e.t0){e.next=14;break}n.push(s),e.next=7;break;case 14:r=new Uint8Array(n);case 15:return i=new TextDecoder,a=i.decode(r),e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getNextUint8",value:function(){var e=(0,a.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataView(1);case 2:return t=e.sent,e.abrupt("return",t.getUint8(0));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNextUint16",value:function(){var e=(0,a.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataView(2);case 2:return t=e.sent,e.abrupt("return",t.getUint16(0));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNextUint32",value:function(){var e=(0,a.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataView(4);case 2:return t=e.sent,e.abrupt("return",t.getUint32(0));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNextUint64",value:function(){var e=(0,a.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataView(8);case 2:return t=e.sent,e.abrupt("return",t.getBigUint64(0));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNextBytes",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r,n,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getDataView(t);case 2:for(r=e.sent,n=new Uint8Array(t),s=0;s<t;s++)n[s]=r.getUint8(s);return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"seek",value:function(e){this._offset=e,(this._offset<this.bufferOffset||this._offset>this.bufferEndOffset)&&(this.buffer=new ArrayBuffer(0),this.bufferOffset=this._offset)}},{key:"skip",value:function(e){this._offset+=e}},{key:"eof",get:function(){return this.offset>=this.file.size}},{key:"offset",get:function(){return this._offset}},{key:"size",get:function(){return this.file.size}},{key:"fillBuffer",value:function(){var t=(0,a.Z)(h().mark((function t(r){var n,s,i;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((n=this.offset+r)>this.bufferEndOffset)){t.next=8;break}return s=Math.floor(this.offset/e.BUFFER_SIZE)*e.BUFFER_SIZE,i=Math.ceil(n/e.BUFFER_SIZE)*e.BUFFER_SIZE,t.next=6,this.file.slice(s,i).arrayBuffer();case 6:this.buffer=t.sent,this.bufferOffset=s;case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getDataView",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fillBuffer(t);case 2:return r=new DataView(this.buffer,this.offset-this.bufferOffset,t),this._offset+=t,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"bufferEndOffset",get:function(){return this.bufferOffset+this.buffer.byteLength}}]),e}();y.BUFFER_SIZE=8388608;var w=function(){function e(t){(0,u.Z)(this,e),this.file=void 0,this.stream=void 0,this.buffer=void 0,this.uint8Buffer=void 0,this.uint16Buffer=void 0,this.uint32Buffer=void 0,this.uint64Buffer=void 0,this.uint16View=void 0,this.uint32View=void 0,this.uint64View=void 0,this._offset=0,this._size=0,this.file=t,this.buffer=new ArrayBuffer(8),this.uint8Buffer=new Uint8Array(this.buffer,0,1),this.uint16Buffer=new Uint16Array(this.buffer,0,1),this.uint32Buffer=new Uint32Array(this.buffer,0,1),this.uint64Buffer=new BigUint64Array(this.buffer,0,1),this.uint16View=new DataView(this.buffer,0,2),this.uint32View=new DataView(this.buffer,0,4),this.uint64View=new DataView(this.buffer,0,8)}return(0,c.Z)(e,[{key:"writeNextUint8",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.uint8Buffer[0]=t,e.next=3,this.writeNextBytes(this.uint8Buffer);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"writeNextUint16",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.uint16View.setUint16(0,t,!1),e.next=3,this.writeNextBytes(this.uint16Buffer);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"writeNextUint32",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.uint32View.setUint32(0,t,!1),e.next=3,this.writeNextBytes(this.uint32Buffer);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"writeNextUint64",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"number"===typeof t&&(t=BigInt(t)),this.uint64View.setBigUint64(0,t,!1),e.next=4,this.writeNextBytes(this.uint64Buffer);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"writeNextString",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Uint8Array(void 0!==r?r:t.length+1),(new TextEncoder).encodeInto(t,n),e.next=5,this.writeNextBytes(n);case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"writeNextBytes",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStream();case 2:return r=e.sent,e.next=5,r.write(t);case 5:n=t instanceof Blob?t.size:t.byteLength,this._offset+=n,this._size+=n;case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"skip",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.seek(this.offset+t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"seek",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStream();case 2:return r=e.sent,e.next=5,r.seek(t);case 5:this._offset=t;case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=(0,a.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getStream();case 2:return t=e.sent,e.next=5,t.close();case 5:this.stream=void 0;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getStream",value:function(){var e=(0,a.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.stream){e.next=8;break}return e.next=3,this.file.createWritable();case 3:return this.stream=e.sent,e.next=6,this.stream.truncate(0);case 6:this._size=0,this._offset=0;case 8:return e.abrupt("return",this.stream);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"offset",get:function(){return this._offset}},{key:"size",get:function(){return this._size}}]),e}();function k(e){void 0===e&&(e=new Date);var t=new Date("1904-01-01T00:00:00Z");return Math.floor((e.getTime()-t.getTime())/1e3)}function g(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,a.Z)(h().mark((function e(t){var r,n,s,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.offset,e.next=3,t.getNextUint32();case 3:return n=e.sent,e.next=6,t.getNextString(4);case 6:if(s=e.sent,0!==n){e.next=12;break}n=t.size-r,console.debug("".concat(s," box has size 0, must continue until end of file: ").concat(n)),e.next=19;break;case 12:if(1!==n){e.next=19;break}return e.t0=Number,e.next=16,t.getNextUint64();case 16:e.t1=e.sent,n=(0,e.t0)(e.t1),console.debug("".concat(s," box has big size: ").concat(n));case 19:return(i={"url ":X,"urn ":J,avc1:I,avcC:H,co64:_,dinf:Q,dref:G,ftyp:B,hdlr:W,mdat:C,mdhd:R,mdia:M,minf:D,moov:S,mvhd:E,stbl:T,stco:V,stsc:A,stsd:z,stss:P,stsz:q,stts:j,tkhd:F,trak:O,udta:L,vmhd:K})[s]?a=new i[s](t,r,n,s):(console.warn("No parser available for %c".concat(s),"text-decoration: underline"),a=new Y(t,r,n,s)),e.next=23,a.parse();case 23:return e.abrupt("return",e.sent);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var b=function(){function e(t,r,n,s){(0,u.Z)(this,e),this.stream=void 0,this.size=void 0,this.type=void 0,this.startOffset=void 0,this.header=void 0,this.stream=t,this.startOffset=r,this.size=n,this.type=s,this.header=this.getHeader()}return(0,c.Z)(e,[{key:"getHeader",value:function(){var e=this.startOffset+this.size;return{size:this.size,type:this.type,startOffset:this.startOffset,endOffset:e}}},{key:"getChildBoxes",value:function(){var e=(0,a.Z)(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={};case 1:if(!(this.stream.offset<this.header.endOffset)){e.next=10;break}return e.next=4,this.getNextChildBox();case 4:"unknown"===(r=e.sent).type&&console.warn("Child box %c".concat(r.header.type,"%c in %c").concat(this.type,"%c is unknown, ignoring."),"text-decoration: underline","text-decoration: none","text-decoration: underline","text-decoration: none"),r.type in t||(t[r.type]=[]),t[r.type].push(r),e.next=1;break;case 10:return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getNextChildBox",value:function(){var e=(0,a.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(this.stream);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"seekToEnd",value:function(){if(this.stream.offset!==this.header.endOffset){var e=this.header.endOffset-this.stream.offset;console.warn("Box %c".concat(this.header.type,"%c was not fully parsed! Stopped ").concat(e,"B early."),"text-decoration: underline","text-decoration: none",this.header)}this.stream.seek(this.header.endOffset)}}]),e}(),N=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parse",value:function(){var e=(0,a.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.parseBox(this.header);case 2:return t=e.sent,this.seekToEnd(),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(b),U=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"getFullBoxHeader",value:function(){var e=(0,a.Z)(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.getNextUint8();case 2:return t=e.sent,e.next=5,this.stream.getNextUint8();case 5:return e.t0=e.sent,e.t1=e.t0<<16,e.next=9,this.stream.getNextUint8();case 9:return e.t2=e.sent,e.t3=e.t2<<8,e.t4=e.t1|e.t3,e.next=14,this.stream.getNextUint8();case 14:return e.t5=e.sent,r=e.t4|e.t5,e.abrupt("return",{version:t,flags:r});case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"parse",value:function(){var e=(0,a.Z)(h().mark((function e(){var t,r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getFullBoxHeader();case 2:return t=e.sent,e.next=5,this.parseBox(this.header,t);case 5:return r=e.sent,this.seekToEnd(),e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),r}(b),B=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r,n,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.getNextString(4);case 2:return r=e.sent,e.next=5,this.stream.getNextUint32();case 5:n=e.sent,s=[];case 7:if(!(this.stream.offset<t.endOffset)){e.next=15;break}return e.t0=s,e.next=11,this.stream.getNextString(4);case 11:e.t1=e.sent,e.t0.push.call(e.t0,e.t1),e.next=7;break;case 15:return e.abrupt("return",{type:"ftyp",header:t,majorBrand:r,minorVersion:n,compatibleBrands:s});case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(N),C=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stream.seek(this.header.endOffset),e.abrupt("return",{type:"mdat",header:t});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(N),S=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getChildBoxes();case 2:return r=e.sent,e.abrupt("return",{type:"moov",header:t,mvhd:r.mvhd[0],trak:r.trak});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(N),E=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n,s,i,a,u,c,o,f,p,d;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==r.version){e.next=2;break}throw new Error("Version 1 not supported");case 2:return e.next=4,this.stream.getNextUint32();case 4:return n=e.sent,e.next=7,this.stream.getNextUint32();case 7:return s=e.sent,e.next=10,this.stream.getNextUint32();case 10:return i=e.sent,e.next=13,this.stream.getNextUint32();case 13:return a=e.sent,e.next=16,this.stream.getNextUint32();case 16:return u=e.sent,e.next=19,this.stream.getNextUint16();case 19:return c=e.sent,e.next=22,this.stream.getNextUint16();case 22:return e.next=24,this.stream.getNextUint32();case 24:return e.next=26,this.stream.getNextUint32();case 26:o=[],f=0;case 28:if(!(f<9)){e.next=37;break}return e.t0=o,e.next=32,this.stream.getNextUint32();case 32:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 34:f++,e.next=28;break;case 37:p=0;case 38:if(!(p<6)){e.next=44;break}return e.next=41,this.stream.getNextUint32();case 41:p++,e.next=38;break;case 44:return e.next=46,this.stream.getNextUint32();case 46:return d=e.sent,e.abrupt("return",{header:t,type:"mvhd",fullBoxHeader:r,creationTime:n,modificationTime:s,timescale:i,duration:a,rate:u,volume:c,matrix:o,nextTrackId:d});case 48:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),O=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getChildBoxes();case 2:return r=e.sent,e.abrupt("return",{header:t,type:"trak",tkhd:r.tkhd[0],mdia:r.mdia[0]});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(N),F=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n,s,i,a,u,c,o,f,p,d,x;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==r.version){e.next=2;break}throw new Error("Version 1 not supported");case 2:return e.next=4,this.stream.getNextUint32();case 4:return n=e.sent,e.next=7,this.stream.getNextUint32();case 7:return s=e.sent,e.next=10,this.stream.getNextUint32();case 10:return i=e.sent,e.next=13,this.stream.getNextUint32();case 13:return e.next=15,this.stream.getNextUint32();case 15:return a=e.sent,e.next=18,this.stream.getNextUint32();case 18:return e.next=20,this.stream.getNextUint32();case 20:return e.next=22,this.stream.getNextUint16();case 22:return u=e.sent,e.next=25,this.stream.getNextUint16();case 25:return c=e.sent,e.next=28,this.stream.getNextUint16();case 28:return o=e.sent,e.next=31,this.stream.getNextUint16();case 31:f=[],p=0;case 33:if(!(p<9)){e.next=42;break}return e.t0=f,e.next=37,this.stream.getNextUint32();case 37:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 39:p++,e.next=33;break;case 42:return e.next=44,this.stream.getNextUint32();case 44:return e.t2=e.sent,d=e.t2>>16,e.next=48,this.stream.getNextUint32();case 48:return e.t3=e.sent,x=e.t3>>16,e.abrupt("return",{header:t,type:"tkhd",fullBoxHeader:r,creationTime:n,modificationTime:s,trackId:i,duration:a,layer:u,alternateGroup:c,volume:o,matrix:f,width:d,height:x});case 51:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),M=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getChildBoxes();case 2:return r=e.sent,e.abrupt("return",{header:t,type:"mdia",mdhd:r.mdhd[0],minf:r.minf[0],hdlr:r.hdlr[0]});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(N),R=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n,s,i,a,u,c,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==r.version){e.next=2;break}throw new Error("Version 1 not supported");case 2:return e.next=4,this.stream.getNextUint32();case 4:return n=e.sent,e.next=7,this.stream.getNextUint32();case 7:return s=e.sent,e.next=10,this.stream.getNextUint32();case 10:return i=e.sent,e.next=13,this.stream.getNextUint32();case 13:return a=e.sent,e.next=16,this.stream.getNextUint16();case 16:for(u=e.sent,c="",o=0;o<3;o++)c+=String.fromCharCode(96+(u>>5*(2-o)&31));return e.next=21,this.stream.getNextUint16();case 21:return e.abrupt("return",{header:t,type:"mdhd",fullBoxHeader:r,creationTime:n,modificationTime:s,timescale:i,duration:a,language:c});case 22:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),D=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getChildBoxes();case 2:return r=e.sent,e.abrupt("return",{header:t,type:"minf",vmhd:"vmhd"in r?r.vmhd[0]:void 0,stbl:r.stbl[0],dinf:r.dinf[0]});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(N),T=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r,n,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getChildBoxes();case 2:return s=e.sent,e.abrupt("return",{header:t,type:"stbl",stco:null===(r=s.stco)||void 0===r?void 0:r[0],co64:null===(n=s.co64)||void 0===n?void 0:n[0],stsc:s.stsc[0],stsd:s.stsd[0],stss:s.stss[0],stsz:s.stsz[0],stts:s.stts[0]});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(N),z=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n,s,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.getNextUint32();case 2:n=e.sent,s=[],i=0;case 5:if(!(i<n)){e.next=13;break}return e.next=8,this.getNextChildBox();case 8:a=e.sent,s.push(a);case 10:i++,e.next=5;break;case 13:return e.abrupt("return",{header:t,type:"stsd",fullBoxHeader:r,entries:s});case 14:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),I=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r,n,s,i,a,u,c,o,f,p,d,x;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=0;case 1:if(!(r<6)){e.next=7;break}return e.next=4,this.stream.getNextUint8();case 4:r++,e.next=1;break;case 7:return e.next=9,this.stream.getNextUint16();case 9:n=e.sent,s=0;case 11:if(!(s<2)){e.next=17;break}return e.next=14,this.stream.getNextUint16();case 14:s++,e.next=11;break;case 17:i=0;case 18:if(!(i<3)){e.next=24;break}return e.next=21,this.stream.getNextUint32();case 21:i++,e.next=18;break;case 24:return e.next=26,this.stream.getNextUint16();case 26:return a=e.sent,e.next=29,this.stream.getNextUint16();case 29:return u=e.sent,e.next=32,this.stream.getNextUint32();case 32:return c=e.sent,e.next=35,this.stream.getNextUint32();case 35:return o=e.sent,e.next=38,this.stream.getNextUint32();case 38:return e.next=40,this.stream.getNextUint16();case 40:return f=e.sent,e.next=43,this.stream.getNextString(32);case 43:return p=e.sent,e.next=46,this.stream.getNextUint16();case 46:return d=e.sent,e.next=49,this.stream.getNextUint16();case 49:return e.next=51,this.getNextChildBox();case 51:return x=e.sent,e.abrupt("return",{header:t,type:"avc1",avcC:x,compressorName:p,dataReferenceIndex:n,depth:d,frameCount:f,height:u,horizontalResolution:c,verticalResolution:o,width:a});case 53:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(N),H=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r,n,s,i,a,u,c,o,f,p,d,x,l,v,m;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.getNextUint8();case 2:return r=e.sent,e.next=5,this.stream.getNextUint8();case 5:return n=e.sent,e.next=8,this.stream.getNextUint8();case 8:return s=e.sent,e.next=11,this.stream.getNextUint8();case 11:return i=e.sent,e.next=14,this.stream.getNextUint8();case 14:return e.t0=e.sent,a=3&e.t0,e.next=18,this.stream.getNextUint8();case 18:e.t1=e.sent,u=31&e.t1,c=[],o=0;case 22:if(!(o<u)){e.next=33;break}return e.next=25,this.stream.getNextUint16();case 25:return f=e.sent,e.next=28,this.stream.getNextBytes(f);case 28:p=e.sent,c.push(p);case 30:o++,e.next=22;break;case 33:return e.next=35,this.stream.getNextUint8();case 35:d=e.sent,x=[],l=0;case 38:if(!(l<d)){e.next=49;break}return e.next=41,this.stream.getNextUint16();case 41:return v=e.sent,e.next=44,this.stream.getNextBytes(v);case 44:m=e.sent,x.push(m);case 46:l++,e.next=38;break;case 49:return e.abrupt("return",{header:t,type:"avcC",configurationVersion:r,profileIndication:n,profileCompatibility:s,levelIndication:i,lengthSizeMinusOne:a,sequenceParameterSets:c,pictureParameterSets:x});case 50:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(N),P=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.getNextUint32();case 2:n=e.sent,s=[],i=0;case 5:if(!(i<n)){e.next=14;break}return e.t0=s,e.next=9,this.stream.getNextUint32();case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 11:i++,e.next=5;break;case 14:return e.abrupt("return",{header:t,type:"stss",fullBoxHeader:r,sampleNumbers:s});case 15:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),V=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.getNextUint32();case 2:n=e.sent,s=[],i=0;case 5:if(!(i<n)){e.next=14;break}return e.t0=s,e.next=9,this.stream.getNextUint32();case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 11:i++,e.next=5;break;case 14:return e.abrupt("return",{header:t,type:"stco",fullBoxHeader:r,chunkOffsets:s});case 15:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),_=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.getNextUint32();case 2:n=e.sent,s=[],i=0;case 5:if(!(i<n)){e.next=16;break}return e.t0=s,e.t1=Number,e.next=10,this.stream.getNextUint64();case 10:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),e.t0.push.call(e.t0,e.t3);case 13:i++,e.next=5;break;case 16:return e.abrupt("return",{header:t,type:"co64",fullBoxHeader:r,chunkOffsets:s});case 17:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),A=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.getNextUint32();case 2:n=e.sent,s=[],i=0;case 5:if(!(i<n)){e.next=21;break}return e.t0=s,e.next=9,this.stream.getNextUint32();case 9:return e.t1=e.sent,e.next=12,this.stream.getNextUint32();case 12:return e.t2=e.sent,e.next=15,this.stream.getNextUint32();case 15:e.t3=e.sent,e.t4={firstChunk:e.t1,samplesPerChunk:e.t2,sampleDescriptionIndex:e.t3},e.t0.push.call(e.t0,e.t4);case 18:i++,e.next=5;break;case 21:return e.abrupt("return",{header:t,type:"stsc",fullBoxHeader:r,entries:s});case 22:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),q=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.getNextUint32();case 2:return e.t0=e.sent,n=[e.t0],e.next=6,this.stream.getNextUint32();case 6:if(s=e.sent,0!==n[0]){e.next=19;break}n=[],i=0;case 10:if(!(i<s)){e.next=19;break}return e.t1=n,e.next=14,this.stream.getNextUint32();case 14:e.t2=e.sent,e.t1.push.call(e.t1,e.t2);case 16:i++,e.next=10;break;case 19:return e.abrupt("return",{header:t,type:"stsz",fullBoxHeader:r,sampleSizes:n,sampleCount:s});case 20:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),j=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.getNextUint32();case 2:n=e.sent,s=[],i=0;case 5:if(!(i<n)){e.next=18;break}return e.t0=s,e.next=9,this.stream.getNextUint32();case 9:return e.t1=e.sent,e.next=12,this.stream.getNextUint32();case 12:e.t2=e.sent,e.t3={sampleCount:e.t1,sampleDelta:e.t2},e.t0.push.call(e.t0,e.t3);case 15:i++,e.next=5;break;case 18:return e.abrupt("return",{header:t,type:"stts",fullBoxHeader:r,entries:s});case 19:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),L=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getChildBoxes();case 2:return e.abrupt("return",{header:t,type:"udta"});case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(N),W=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.getNextUint32();case 2:return e.next=4,this.stream.getNextString(4);case 4:n=e.sent,s=0;case 6:if(!(s<3)){e.next=12;break}return e.next=9,this.stream.getNextUint32();case 9:s++,e.next=6;break;case 12:return e.next=14,this.stream.getNextString();case 14:return i=e.sent,e.abrupt("return",{header:t,fullBoxHeader:r,type:"hdlr",handlerType:n,name:i});case 16:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),K=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.getNextUint16();case 2:return n=e.sent,e.next=5,this.stream.getNextUint16();case 5:return e.t0=e.sent,e.next=8,this.stream.getNextUint16();case 8:return e.t1=e.sent,e.next=11,this.stream.getNextUint16();case 11:return e.t2=e.sent,s=[e.t0,e.t1,e.t2],e.abrupt("return",{header:t,fullBoxHeader:r,type:"vmhd",graphicsMode:n,opColor:s});case 14:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),G=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.getNextUint32();case 2:n=e.sent,s=[],i=0;case 5:if(!(i<n)){e.next=14;break}return e.t0=s,e.next=9,this.getNextChildBox();case 9:e.t1=e.sent,e.t0.push.call(e.t0,e.t1);case 11:i++,e.next=5;break;case 14:return e.abrupt("return",{header:t,fullBoxHeader:r,type:"dref",entries:s});case 15:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),Q=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getChildBoxes();case 2:return r=e.sent,e.abrupt("return",{header:t,type:"dinf",dref:r.dref[0]});case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(N),J=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",s="",1===r.flags){e.next=9;break}return e.next=5,this.stream.getNextString();case 5:return n=e.sent,e.next=8,this.stream.getNextString();case 8:s=e.sent;case 9:return e.abrupt("return",{header:t,fullBoxHeader:r,type:"urn ",name:n,location:s});case 10:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),X=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n="",1===r.flags){e.next=5;break}return e.next=4,this.stream.getNextString();case 4:n=e.sent;case 5:return e.abrupt("return",{header:t,fullBoxHeader:r,type:"url ",location:n});case 6:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()}]),r}(U),Y=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.stream.seek(this.header.endOffset),e.abrupt("return",{header:t,type:"unknown"});case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(N),$=r(11752),ee=r(61120);function te(e,t){return re.apply(this,arguments)}function re(){return(re=(0,a.Z)(h().mark((function e(t,r){var n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n={"url ":he,"urn ":fe,avc1:ue,avcC:ae,dinf:pe,dref:de,ftyp:ie,hdlr:le,mdhd:ge,mdia:Ue,minf:Ne,moov:Ce,mvhd:be,stbl:oe,stco:ve,stsc:ye,stsd:ce,stss:ke,stsz:me,stts:we,tkhd:Ze,trak:Be,vmhd:xe}[r.type])||console.warn("No writer available for %c".concat(r.type,", not writing."),"text-decoration: underline"),e.next=5,new n(t).write(r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ne=function(){function e(t){(0,u.Z)(this,e),this.stream=t}return(0,c.Z)(e,[{key:"write",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r,n,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.stream.offset,e.next=3,this.stream.writeNextUint32(0);case 3:return e.next=5,this.stream.writeNextString(t.type,4);case 5:return e.next=7,this.writeContents(t);case 7:return n=this.stream.offset,s=n-r,e.next=11,this.stream.seek(r);case 11:return e.next=13,this.stream.writeNextUint32(s);case 13:return e.next=15,this.stream.seek(n);case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),se=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.writeNextUint8(t.fullBoxHeader.version);case 2:return e.next=4,this.stream.writeNextUint8(t.fullBoxHeader.flags>>16);case 4:return e.next=6,this.stream.writeNextUint8(t.fullBoxHeader.flags>>8);case 6:return e.next=8,this.stream.writeNextUint8(t.fullBoxHeader.flags);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(ne),ie=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r,n,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.writeNextString(t.majorBrand,4);case 2:return e.next=4,this.stream.writeNextUint32(t.minorVersion);case 4:r=(0,v.Z)(t.compatibleBrands),e.prev=5,r.s();case 7:if((n=r.n()).done){e.next=13;break}return s=n.value,e.next=11,this.stream.writeNextString(s,4);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(ne),ae=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r,n,s,i,a,u;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.writeNextUint8(t.configurationVersion);case 2:return e.next=4,this.stream.writeNextUint8(t.profileIndication);case 4:return e.next=6,this.stream.writeNextUint8(t.profileCompatibility);case 6:return e.next=8,this.stream.writeNextUint8(t.levelIndication);case 8:return e.next=10,this.stream.writeNextUint8(252|t.lengthSizeMinusOne);case 10:return e.next=12,this.stream.writeNextUint8(224|t.sequenceParameterSets.length);case 12:r=(0,v.Z)(t.sequenceParameterSets),e.prev=13,r.s();case 15:if((n=r.n()).done){e.next=23;break}return s=n.value,e.next=19,this.stream.writeNextUint16(s.byteLength);case 19:return e.next=21,this.stream.writeNextBytes(s);case 21:e.next=15;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(13),r.e(e.t0);case 28:return e.prev=28,r.f(),e.finish(28);case 31:return e.next=33,this.stream.writeNextUint8(t.pictureParameterSets.length);case 33:i=(0,v.Z)(t.pictureParameterSets),e.prev=34,i.s();case 36:if((a=i.n()).done){e.next=44;break}return u=a.value,e.next=40,this.stream.writeNextUint16(u.byteLength);case 40:return e.next=42,this.stream.writeNextBytes(u);case 42:e.next=36;break;case 44:e.next=49;break;case 46:e.prev=46,e.t1=e.catch(34),i.e(e.t1);case 49:return e.prev=49,i.f(),e.finish(49);case 52:case"end":return e.stop()}}),e,this,[[13,25,28,31],[34,46,49,52]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(ne),ue=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.stream.skip(6);case 2:return e.next=4,this.stream.writeNextUint16(t.dataReferenceIndex);case 4:return e.next=6,this.stream.skip(16);case 6:return e.next=8,this.stream.writeNextUint16(t.width);case 8:return e.next=10,this.stream.writeNextUint16(t.height);case 10:return e.next=12,this.stream.writeNextUint32(t.horizontalResolution);case 12:return e.next=14,this.stream.writeNextUint32(t.verticalResolution);case 14:return e.next=16,this.stream.skip(4);case 16:return e.next=18,this.stream.writeNextUint16(t.frameCount);case 18:return e.next=20,this.stream.writeNextString(t.compressorName,32);case 20:return e.next=22,this.stream.writeNextUint16(t.depth);case 22:return e.next=24,this.stream.writeNextUint16(65535);case 24:return e.next=26,te(this.stream,t.avcC);case 26:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(ne),ce=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Z)((0,ee.Z)(r.prototype),"writeContents",this).call(this,t);case 2:return e.next=4,this.stream.writeNextUint32(t.entries.length);case 4:n=(0,v.Z)(t.entries),e.prev=5,n.s();case 7:if((s=n.n()).done){e.next=13;break}return i=s.value,e.next=11,te(this.stream,i);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(se),oe=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.stco||!t.co64){e.next=2;break}throw new Error("stbl box cannot contain both stco and co64");case 2:if(!t.stco){e.next=7;break}return e.next=5,te(this.stream,t.stco);case 5:e.next=10;break;case 7:if(!t.co64){e.next=10;break}return e.next=10,te(this.stream,t.co64);case 10:return e.next=12,te(this.stream,t.stsc);case 12:return e.next=14,te(this.stream,t.stsd);case 14:return e.next=16,te(this.stream,t.stss);case 16:return e.next=18,te(this.stream,t.stsz);case 18:return e.next=20,te(this.stream,t.stts);case 20:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(ne),he=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Z)((0,ee.Z)(r.prototype),"writeContents",this).call(this,t);case 2:if(1===t.fullBoxHeader.flags){e.next=5;break}return e.next=5,this.stream.writeNextString(t.location);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(se),fe=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Z)((0,ee.Z)(r.prototype),"writeContents",this).call(this,t);case 2:if(1===t.fullBoxHeader.flags){e.next=7;break}return e.next=5,this.stream.writeNextString(t.name);case 5:return e.next=7,this.stream.writeNextString(t.location);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(se),pe=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(this.stream,t.dref);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(ne),de=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Z)((0,ee.Z)(r.prototype),"writeContents",this).call(this,t);case 2:return e.next=4,this.stream.writeNextUint32(t.entries.length);case 4:n=(0,v.Z)(t.entries),e.prev=5,n.s();case 7:if((s=n.n()).done){e.next=13;break}return i=s.value,e.next=11,te(this.stream,i);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(se),xe=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Z)((0,ee.Z)(r.prototype),"writeContents",this).call(this,t);case 2:return e.next=4,this.stream.writeNextUint16(t.graphicsMode);case 4:n=(0,v.Z)(t.opColor),e.prev=5,n.s();case 7:if((s=n.n()).done){e.next=13;break}return i=s.value,e.next=11,this.stream.writeNextUint16(i);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(se),le=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Z)((0,ee.Z)(r.prototype),"writeContents",this).call(this,t);case 2:return e.next=4,this.stream.skip(4);case 4:return e.next=6,this.stream.writeNextString(t.handlerType,4);case 6:return e.next=8,this.stream.skip(12);case 8:return e.next=10,this.stream.writeNextString(t.name);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(se),ve=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Z)((0,ee.Z)(r.prototype),"writeContents",this).call(this,t);case 2:return e.next=4,this.stream.writeNextUint32(t.chunkOffsets.length);case 4:n=(0,v.Z)(t.chunkOffsets),e.prev=5,n.s();case 7:if((s=n.n()).done){e.next=13;break}return i=s.value,e.next=11,this.stream.writeNextUint32(i);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(se),me=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Z)((0,ee.Z)(r.prototype),"writeContents",this).call(this,t);case 2:return e.next=4,this.stream.writeNextUint32(t.sampleSizes.length>1?0:t.sampleSizes[0]);case 4:return e.next=6,this.stream.writeNextUint32(t.sampleCount);case 6:n=(0,v.Z)(t.sampleSizes),e.prev=7,n.s();case 9:if((s=n.n()).done){e.next=15;break}return i=s.value,e.next=13,this.stream.writeNextUint32(i);case 13:e.next=9;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(7),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[7,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(se),ye=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Z)((0,ee.Z)(r.prototype),"writeContents",this).call(this,t);case 2:return e.next=4,this.stream.writeNextUint32(t.entries.length);case 4:n=(0,v.Z)(t.entries),e.prev=5,n.s();case 7:if((s=n.n()).done){e.next=17;break}return i=s.value,e.next=11,this.stream.writeNextUint32(i.firstChunk);case 11:return e.next=13,this.stream.writeNextUint32(i.samplesPerChunk);case 13:return e.next=15,this.stream.writeNextUint32(i.sampleDescriptionIndex);case 15:e.next=7;break;case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(5),n.e(e.t0);case 22:return e.prev=22,n.f(),e.finish(22);case 25:case"end":return e.stop()}}),e,this,[[5,19,22,25]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(se),we=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Z)((0,ee.Z)(r.prototype),"writeContents",this).call(this,t);case 2:return e.next=4,this.stream.writeNextUint32(t.entries.length);case 4:n=(0,v.Z)(t.entries),e.prev=5,n.s();case 7:if((s=n.n()).done){e.next=15;break}return i=s.value,e.next=11,this.stream.writeNextUint32(i.sampleCount);case 11:return e.next=13,this.stream.writeNextUint32(i.sampleDelta);case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:case"end":return e.stop()}}),e,this,[[5,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(se),ke=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Z)((0,ee.Z)(r.prototype),"writeContents",this).call(this,t);case 2:return e.next=4,this.stream.writeNextUint32(t.sampleNumbers.length);case 4:n=(0,v.Z)(t.sampleNumbers),e.prev=5,n.s();case 7:if((s=n.n()).done){e.next=13;break}return i=s.value,e.next=11,this.stream.writeNextUint32(i);case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(se),ge=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Z)((0,ee.Z)(r.prototype),"writeContents",this).call(this,t);case 2:return e.next=4,this.stream.writeNextUint32(t.creationTime);case 4:return e.next=6,this.stream.writeNextUint32(t.modificationTime);case 6:return e.next=8,this.stream.writeNextUint32(t.timescale);case 8:return e.next=10,this.stream.writeNextUint32(t.duration);case 10:return e.next=12,this.stream.writeNextUint16(21956);case 12:return e.next=14,this.stream.skip(2);case 14:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(se),Ze=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Z)((0,ee.Z)(r.prototype),"writeContents",this).call(this,t);case 2:return e.next=4,this.stream.writeNextUint32(t.creationTime);case 4:return e.next=6,this.stream.writeNextUint32(t.modificationTime);case 6:return e.next=8,this.stream.writeNextUint32(t.trackId);case 8:return e.next=10,this.stream.skip(4);case 10:return e.next=12,this.stream.writeNextUint32(t.duration);case 12:return e.next=14,this.stream.skip(8);case 14:return e.next=16,this.stream.writeNextUint16(t.layer);case 16:return e.next=18,this.stream.writeNextUint16(t.alternateGroup);case 18:return e.next=20,this.stream.writeNextUint16(t.volume);case 20:return e.next=22,this.stream.skip(2);case 22:n=(0,v.Z)(t.matrix),e.prev=23,n.s();case 25:if((s=n.n()).done){e.next=31;break}return i=s.value,e.next=29,this.stream.writeNextUint32(i);case 29:e.next=25;break;case 31:e.next=36;break;case 33:e.prev=33,e.t0=e.catch(23),n.e(e.t0);case 36:return e.prev=36,n.f(),e.finish(36);case 39:return e.next=41,this.stream.writeNextUint32(t.width);case 41:return e.next=43,this.stream.writeNextUint32(t.height);case 43:case"end":return e.stop()}}),e,this,[[23,33,36,39]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(se),be=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){var n,s,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,$.Z)((0,ee.Z)(r.prototype),"writeContents",this).call(this,t);case 2:return e.next=4,this.stream.writeNextUint32(t.creationTime);case 4:return e.next=6,this.stream.writeNextUint32(t.modificationTime);case 6:return e.next=8,this.stream.writeNextUint32(t.timescale);case 8:return e.next=10,this.stream.writeNextUint32(t.duration);case 10:return e.next=12,this.stream.writeNextUint32(t.rate);case 12:return e.next=14,this.stream.writeNextUint16(t.volume);case 14:return e.next=16,this.stream.skip(10);case 16:n=(0,v.Z)(t.matrix),e.prev=17,n.s();case 19:if((s=n.n()).done){e.next=25;break}return i=s.value,e.next=23,this.stream.writeNextUint32(i);case 23:e.next=19;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(17),n.e(e.t0);case 30:return e.prev=30,n.f(),e.finish(30);case 33:return e.next=35,this.stream.skip(24);case 35:return e.next=37,this.stream.writeNextUint32(t.nextTrackId);case 37:case"end":return e.stop()}}),e,this,[[17,27,30,33]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(se),Ne=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(this.stream,t.vmhd);case 2:return e.next=4,te(this.stream,t.dinf);case 4:return e.next=6,te(this.stream,t.stbl);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(ne),Ue=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(this.stream,t.mdhd);case 2:return e.next=4,te(this.stream,t.hdlr);case 4:return e.next=6,te(this.stream,t.minf);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(ne),Be=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(this.stream,t.tkhd);case 2:return e.next=4,te(this.stream,t.mdia);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),r}(ne),Ce=function(e){(0,f.Z)(r,e);var t=(0,p.Z)(r);function r(){return(0,u.Z)(this,r),t.apply(this,arguments)}return(0,c.Z)(r,[{key:"writeContents",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r,n,s;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,te(this.stream,t.mvhd);case 2:r=(0,v.Z)(t.trak),e.prev=3,r.s();case 5:if((n=r.n()).done){e.next=11;break}return s=n.value,e.next=9,te(this.stream,s);case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})));return function(t){return e.apply(this,arguments)}}()}]),r}(ne),Se=function(){function e(t){(0,u.Z)(this,e),this.stream=t,this.startOffset=0,this.sizeOffset=0,this.opened=!1,this.closed=!1}return(0,c.Z)(e,[{key:"open",value:function(){var e=(0,a.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.opened){e.next=4;break}throw new Error("already opened");case 4:if(!this.closed){e.next=6;break}throw new Error("already closed");case 6:return this.startOffset=this.stream.offset,e.next=9,this.stream.writeNextUint32(1);case 9:return e.next=11,this.stream.writeNextString("mdat",4);case 11:return this.sizeOffset=this.stream.offset,e.next=14,this.stream.writeNextUint64(0);case 14:this.opened=!0;case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"write",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.opened){e.next=4;break}throw new Error("not opened");case 4:if(!this.closed){e.next=6;break}throw new Error("already closed");case 6:return e.next=8,this.stream.writeNextBytes(t);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"close",value:function(){var e=(0,a.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.opened){e.next=4;break}throw new Error("not opened");case 4:if(!this.closed){e.next=6;break}throw new Error("already closed");case 6:return t=this.stream.offset,e.next=9,this.stream.seek(this.sizeOffset);case 9:return e.next=11,this.stream.writeNextUint64(t-this.startOffset);case 11:return e.next=13,this.stream.seek(t);case 13:this.closed=!0;case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dataStartOffset",get:function(){if(!this.opened)throw new Error("not opened");return this.startOffset+16}}]),e}(),Ee=function(){function e(t){(0,u.Z)(this,e),this.stream=void 0,this.mdat=void 0,this.moov=void 0,this.stream=new y(t)}return(0,c.Z)(e,[{key:"parse",value:function(){var e=(0,a.Z)(h().mark((function e(){var t,r,n;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.parseBox();case 2:if("ftyp"===e.sent.type){e.next=5;break}throw new Error("Expected ftyp box at start of file. Not an MP4?");case 5:if(this.stream.eof){e.next=19;break}return e.next=8,this.parseBox();case 8:n=e.sent,e.t0=n.type,e.next="mdat"===e.t0?12:"moov"===e.t0?14:16;break;case 12:return t=n,e.abrupt("break",17);case 14:return r=n,e.abrupt("break",17);case 16:return e.abrupt("break",17);case 17:e.next=5;break;case 19:if(t&&r){e.next=21;break}throw new Error("Missing mdat or moov box");case 21:this.mdat=t,this.moov=r;case 23:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getSample",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r,n,s,i,a,u,c;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(r=this.moov.trak[0].mdia.minf.stbl,n=r.stsz,s=r.stco?r.stco:r.co64,i=n.sampleSizes[t],a=s.chunkOffsets[0],u=a,c=0;c<t;c++)u+=r.stsz.sampleSizes[c];return this.stream.seek(u),e.next=10,this.stream.getNextBytes(i);case 10:return e.t0=e.sent,e.t1=this.isSampleSync(t),e.abrupt("return",{data:e.t0,sync:e.t1});case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"isSampleSync",value:function(e){return this.moov.trak[0].mdia.minf.stbl.stss.sampleNumbers.includes(e+1)}},{key:"parseBox",value:function(){var e=(0,a.Z)(h().mark((function e(){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g(this.stream);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Oe=function(){function e(t){(0,u.Z)(this,e),this.stream=void 0,this.mdat=void 0,this.avcC=void 0,this.sampleCount=0,this.syncSamples=[],this.sampleSizes=[],this.displaySize=void 0,this.frameRate=60,this.stream=new w(t),this.mdat=new Se(this.stream)}return(0,c.Z)(e,[{key:"open",value:function(){var e=(0,a.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={type:"ftyp",majorBrand:"isom",minorVersion:0,compatibleBrands:["mp41","avc1","isom"]},e.next=3,te(this.stream,t);case 3:return e.next=5,this.mdat.open();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"writeSample",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mdat.write(t);case 2:r&&this.syncSamples.push(this.sampleCount+1),this.sampleSizes.push(t instanceof Blob?t.size:t.byteLength),this.sampleCount++;case 5:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"setAvcC",value:function(e){var t,r={type:"avcC",configurationVersion:(t=e instanceof ArrayBuffer?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength)).getUint8(0),profileIndication:t.getUint8(1),profileCompatibility:t.getUint8(2),levelIndication:t.getUint8(3),lengthSizeMinusOne:3&t.getUint8(4),sequenceParameterSets:[],pictureParameterSets:[]},n=5,s=31&t.getUint8(n);n+=1;for(var i=[],a=0;a<s;a++){var u=t.getUint16(n);n+=2;var c=new Uint8Array(t.buffer,t.byteOffset+n,u);i.push(c),n+=u}var o=t.getUint8(n);n+=1;for(var h=[],f=0;f<o;f++){var p=t.getUint16(n);n+=2;var d=new Uint8Array(t.buffer,t.byteOffset+n,p);h.push(d),n+=p}r.sequenceParameterSets=i,r.pictureParameterSets=h,this.avcC=r}},{key:"setDisplaySize",value:function(e){this.displaySize={width:e.width,height:e.height}}},{key:"setFramerate",value:function(e){this.frameRate=e}},{key:"close",value:function(){var e=(0,a.Z)(h().mark((function e(){var t;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mdat.close();case 2:return t={type:"moov",mvhd:this.getMvhdBox(),trak:[this.getTrakBox()]},e.next=5,te(this.stream,t);case 5:return e.next=7,this.stream.close();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getTrakBox",value:function(){return{type:"trak",tkhd:this.getTkhdBox(),mdia:this.getMdiaBox()}}},{key:"getTkhdBox",value:function(){var e=k(new Date);return{type:"tkhd",fullBoxHeader:{version:0,flags:3},alternateGroup:0,creationTime:e,duration:60*this.sampleCount,width:this.displaySize.width,height:this.displaySize.height,layer:0,matrix:[65536,0,0,0,65536,0,0,0,1073741824],modificationTime:e,trackId:1,volume:0}}},{key:"getMvhdBox",value:function(){var e=k(new Date);return{type:"mvhd",fullBoxHeader:{version:0,flags:0},duration:Math.floor(1e3*this.sampleCount/this.frameRate),creationTime:e,modificationTime:e,timescale:1e3,rate:65536,volume:256,matrix:[65536,0,0,0,65536,0,0,0,1073741824],nextTrackId:2}}},{key:"getMdiaBox",value:function(){return{type:"mdia",hdlr:{type:"hdlr",fullBoxHeader:{version:0,flags:0},handlerType:"vide",name:"VideoHandler"},minf:this.getMinfBox(),mdhd:this.getMdhdBox()}}},{key:"getMdhdBox",value:function(){var e=k(new Date);return{type:"mdhd",fullBoxHeader:{version:0,flags:0},creationTime:e,duration:this.sampleCount,language:"",modificationTime:e,timescale:this.frameRate}}},{key:"getMinfBox",value:function(){var e=this.getStblBox();return{type:"minf",dinf:this.getDinfBox(),stbl:e,vmhd:{type:"vmhd",fullBoxHeader:{version:0,flags:1},graphicsMode:0,opColor:[0,0,0]}}}},{key:"getDinfBox",value:function(){return{type:"dinf",dref:{type:"dref",fullBoxHeader:{version:0,flags:0},entries:[{type:"url ",fullBoxHeader:{version:0,flags:1},location:""}]}}}},{key:"getStblBox",value:function(){return{type:"stbl",stco:{type:"stco",fullBoxHeader:{version:0,flags:0},chunkOffsets:[this.mdat.dataStartOffset]},stsc:{type:"stsc",fullBoxHeader:{version:0,flags:0},entries:[{firstChunk:1,samplesPerChunk:this.sampleCount,sampleDescriptionIndex:1}]},stsd:{type:"stsd",fullBoxHeader:{version:0,flags:0},entries:[{type:"avc1",dataReferenceIndex:1,width:this.displaySize.width,height:this.displaySize.height,horizontalResolution:4718592,verticalResolution:4718592,frameCount:1,compressorName:"mp4.ts",depth:24,avcC:this.avcC}]},stss:{type:"stss",fullBoxHeader:{version:0,flags:0},sampleNumbers:this.syncSamples},stsz:{type:"stsz",fullBoxHeader:{version:0,flags:0},sampleCount:this.sampleCount,sampleSizes:this.sampleSizes},stts:{type:"stts",fullBoxHeader:{version:0,flags:0},entries:[{sampleCount:this.sampleCount,sampleDelta:1}]}}}}]),e}();function Fe(e){var t=new m.StreamDataView(void 0,!0);t.setNextUint8(e.configurationVersion),t.setNextUint8(e.profileIndication),t.setNextUint8(e.profileCompatibility),t.setNextUint8(e.levelIndication),t.setNextUint8(e.lengthSizeMinusOne+252),t.setNextUint8(e.sequenceParameterSets.length+224);for(var r=0;r<e.sequenceParameterSets.length;r++){t.setNextUint16(e.sequenceParameterSets[r].length);for(var n=0;n<e.sequenceParameterSets[r].length;n++)t.setNextUint8(e.sequenceParameterSets[r][n])}t.setNextUint8(e.pictureParameterSets.length);for(var s=0;s<e.pictureParameterSets.length;s++){t.setNextUint16(e.pictureParameterSets[s].length);for(var i=0;i<e.pictureParameterSets[s].length;i++)t.setNextUint8(e.pictureParameterSets[s][i])}return t.getBuffer()}var Me=function(){function e(t){(0,u.Z)(this,e),this.decoder=void 0,this.encoder=void 0,this.inMp4=void 0,this.outMp4=void 0,this.expectedFrames=0,this.framesDecoded=0,this.framesDecodedMissing=0,this.framesEncoded=0,this.queuedForDecode=0,this.queuedForEncode=0,this.modifyFrame=void 0,this.progressInit=void 0,this.progressUpdate=void 0,this.processResolve=void 0,this.processReject=void 0,this.progressUpdateIntervalHandle=void 0,this.decodedFrames={},this.encodedFrames=[],this.modifyFrame=t.modifyFrame,this.progressInit=t.progressInit,this.progressUpdate=t.progressUpdate,this.sendProgressUpdate=this.sendProgressUpdate.bind(this)}return(0,c.Z)(e,[{key:"open",value:function(){var e=(0,a.Z)(h().mark((function e(t,r){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.reset(),this.inMp4=new Ee(t),e.next=4,this.inMp4.parse();case 4:return this.outMp4=new Oe(r),e.next=7,this.outMp4.open();case 7:return e.abrupt("return",{width:this.inMp4.moov.trak[0].tkhd.width,height:this.inMp4.moov.trak[0].tkhd.height});case 8:case"end":return e.stop()}}),e,this)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"process",value:function(e){var t=this;return new Promise((function(r,n){var s,i;t.processResolve=r,t.processReject=n;try{var a=t.inMp4.moov.trak[0].mdia.minf.stbl.stsd.entries[0],u="avc1."+a.avcC.profileIndication.toString(16).padStart(2,"0")+a.avcC.profileCompatibility.toString(16).padStart(2,"0")+a.avcC.levelIndication.toString(16).padStart(2,"0");t.decoder.configure({codec:u,codedWidth:t.inMp4.moov.trak[0].tkhd.width,codedHeight:t.inMp4.moov.trak[0].tkhd.height,description:Fe(t.inMp4.moov.trak[0].mdia.minf.stbl.stsd.entries[0].avcC),optimizeForLatency:!1})}catch(o){throw new x.DecoderConfigureError(o)}try{var c=8*t.inMp4.mdat.header.size*t.inMp4.moov.mvhd.timescale/t.inMp4.moov.mvhd.duration;c=5e6*Math.ceil(c/5e6),t.encoder.configure({bitrate:c,codec:"avc1.42003d",framerate:60,height:e.height,latencyMode:"quality",scalabilityMode:"L1T2",width:e.width})}catch(o){throw new x.EncoderConfigureError(o)}null===(s=t.outMp4)||void 0===s||s.setDisplaySize({width:e.width,height:e.height}),null===(i=t.outMp4)||void 0===i||i.setFramerate(60),t.expectedFrames=t.inMp4.moov.trak[0].mdia.mdhd.duration,t.decodedFrames={},t.progressInit({expectedFrames:t.expectedFrames}),t.progressUpdateIntervalHandle=self.setInterval(t.sendProgressUpdate,100),t.processSamples()}))}},{key:"reset",value:function(){this.encoder&&this.encoder.close(),this.encoder=new VideoEncoder({output:this.handleEncodedFrame.bind(this),error:this.handleEncoderError.bind(this)}),this.decoder&&this.decoder.close(),this.decoder=new VideoDecoder({output:this.handleDecodedFrame.bind(this),error:this.handleDecoderError.bind(this)}),this.expectedFrames=0,this.framesDecoded=0,this.framesDecodedMissing=0,this.framesEncoded=0,this.queuedForDecode=0,this.queuedForEncode=0,this.processResolve=void 0,this.processReject=void 0,this.progressUpdateIntervalHandle&&clearInterval(this.progressUpdateIntervalHandle)}},{key:"processSamples",value:function(){var e=(0,a.Z)(h().mark((function e(){var t,r,n,s,i,a,u,c,o,f,p,d,x,m,y,w,k,g,Z,b,N;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0;case 1:if(!(t<this.expectedFrames)){e.next=51;break}r=[],n=t;case 4:if(!(n<this.expectedFrames)){e.next=14;break}return e.next=7,this.inMp4.getSample(n);case 7:if(s=e.sent,r.push({index:n,data:s.data.buffer,sync:s.sync}),!(n+1<this.expectedFrames&&this.inMp4.isSampleSync(n+1))){e.next=11;break}return e.abrupt("break",14);case 11:n++,e.next=4;break;case 14:for(this.decodedFrames={},i=0,a=r;i<a.length;i++)u=a[i],this.decodedFrames[u.index]={index:u.index,image:void 0,sync:u.sync};for(c=0,o=r;c<o.length;c++)f=o[c],p=new EncodedVideoChunk({type:f.sync?"key":"delta",timestamp:f.index,duration:16670,data:f.data}),this.decoder.decode(p),t=f.index+1,this.queuedForDecode++;return e.next=19,this.decoder.flush();case 19:this.encodedFrames=[],d=(0,v.Z)(Object.values(this.decodedFrames).entries()),e.prev=21,d.s();case 23:if((x=d.n()).done){e.next=37;break}if(m=(0,l.Z)(x.value,2),y=m[0],(w=m[1]).image){e.next=29;break}return console.error("Frame ".concat(w.index," was never decoded!")),this.framesDecodedMissing++,e.abrupt("continue",35);case 29:k=this.modifyFrame(w.image,w.index),g=new VideoFrame(k,{duration:16670,timestamp:w.index}),0===y&&this.progressUpdate({preview:k}),this.encoder.encode(g,{keyFrame:w.sync}),this.queuedForEncode++,g.close();case 35:e.next=23;break;case 37:e.next=42;break;case 39:e.prev=39,e.t0=e.catch(21),d.e(e.t0);case 42:return e.prev=42,d.f(),e.finish(42);case 45:return e.next=47,this.encoder.flush();case 47:Z=(0,v.Z)(this.encodedFrames);try{for(Z.s();!(b=Z.n()).done;)N=b.value,this.outMp4.writeSample(N.data,N.sync)}catch(h){Z.e(h)}finally{Z.f()}e.next=1;break;case 51:return e.next=53,this.outMp4.close();case 53:this.sendProgressUpdate(),this.processResolve();case 55:case"end":return e.stop()}}),e,this,[[21,39,42,45]])})));return function(){return e.apply(this,arguments)}}()},{key:"handleDecodedFrame",value:function(){var e=(0,a.Z)(h().mark((function e(t){return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.framesDecoded++,e.next=3,createImageBitmap(t);case 3:this.decodedFrames[t.timestamp].image=e.sent,t.close();case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleEncodedFrame",value:function(e,t){this.framesEncoded++;var r,n=new ArrayBuffer(e.byteLength);(e.copyTo(n),this.encodedFrames.push({data:n,sync:"key"===e.type,timestamp:e.timestamp}),0===e.timestamp)&&this.outMp4.setAvcC(null===(r=t.decoderConfig)||void 0===r?void 0:r.description)}},{key:"handleDecoderError",value:function(e){throw this.processReject(new x.DecoderError(e.message)),e}},{key:"handleEncoderError",value:function(e){throw this.processReject(new x.EncoderError(e.message)),e}},{key:"sendProgressUpdate",value:function(){var e,t;this.progressUpdate({framesDecoded:this.framesDecoded,framesDecodedMissing:this.framesDecodedMissing,framesEncoded:this.framesEncoded,queuedForDecode:this.queuedForDecode,queuedForEncode:this.queuedForEncode,inDecoderQueue:null===(e=this.decoder)||void 0===e?void 0:e.decodeQueueSize,inEncoderQueue:null===(t=this.encoder)||void 0===t?void 0:t.encodeQueueSize})}}]),e}(),Re=256,De=function(){function e(t,r){(0,u.Z)(this,e),this.name=void 0,this.tiles=void 0,this.name=t,this.tiles=r}return(0,c.Z)(e,[{key:"getTile",value:function(e){return this.tiles[e]}}],[{key:"fromFile",value:function(){var t=(0,a.Z)(h().mark((function t(r){var n,s,i,a,u,c,o,f,p;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.arrayBuffer();case 2:n=t.sent,s=r.name.includes("hd"),i=s?24:36,a=s?36:54,u=[],c=0;case 8:if(!(c<Re)){t.next=18;break}return o=new Uint8ClampedArray(n,c*i*a*4,i*a*4),f=new ImageData(o,i,a),t.next=13,createImageBitmap(f);case 13:p=t.sent,u.push(p);case 15:c++,t.next=8;break;case 18:return t.abrupt("return",new e(r.name,u));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},{key:"fromFiles",value:function(){var t=(0,a.Z)(h().mark((function t(r){return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fromFile(r.sd1);case 2:return t.t0=t.sent,t.next=5,e.fromFile(r.sd2);case 5:return t.t1=t.sent,t.next=8,e.fromFile(r.hd1);case 8:return t.t2=t.sent,t.next=11,e.fromFile(r.hd2);case 11:return t.t3=t.sent,t.abrupt("return",{sd1:t.t0,sd2:t.t1,hd1:t.t2,hd2:t.t3});case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),Te=function(){function e(t){(0,u.Z)(this,e),this.header=void 0,this.frames=[];var r=new m.StreamDataView(t);for(this.header={magic:r.getNextString(7),version:r.getNextUint16(),config:{charWidth:r.getNextUint8(),charHeight:r.getNextUint8(),fontWidth:r.getNextUint8(),fontHeight:r.getNextUint8(),xOffset:r.getNextUint16(),yOffset:r.getNextUint16(),fontVariant:r.getNextUint8()}},31===this.header.config.charWidth&&(this.header.config.charWidth=30);r.getOffset()<t.byteLength;)try{var n=r.getNextUint32(),s=r.getNextUint32(),i=new Uint16Array(t,r.getOffset(),s);r.setOffset(r.getOffset()+2*s),this.frames.push({frameNumber:n,frameSize:s,frameData:i})}catch(a){if(a instanceof RangeError){console.warn("No more data in OSD file, probably truncated due to power loss");break}}}return(0,c.Z)(e,null,[{key:"fromFile",value:function(){var t=(0,a.Z)(h().mark((function t(r){var n;return h().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.arrayBuffer();case 2:return n=t.sent,t.abrupt("return",new e(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}]),e}(),ze=function(){function e(){(0,u.Z)(this,e),this.processor=void 0,this.chromaKey=!1,this.chromaKeyColor="#ff00ff",this.fontPack=void 0,this.osdReader=void 0,this.lastOsdIndex=0,this.wide=!1,this.hd=!1,this.outWidth=void 0,this.outHeight=void 0,this.osdCanvas=void 0,this.osdCtx=void 0,this.frameCanvas=void 0,this.frameCtx=void 0,this.processor=new Me({modifyFrame:this.modifyFrame.bind(this),progressInit:this.progressInit.bind(this),progressUpdate:this.progressUpdate.bind(this)}),addEventListener("message",this.onMessage.bind(this))}return(0,c.Z)(e,[{key:"start",value:function(){var e=(0,a.Z)(h().mark((function e(t){var r,n,s,i,a;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.chromaKey=t.chromaKey,this.chromaKeyColor=t.chromaKeyColor,e.next=4,Te.fromFile(t.osdFile);case 4:return this.osdReader=e.sent,e.next=7,De.fromFiles(t.fontFiles);case 7:return this.fontPack=e.sent,e.next=10,this.processor.open(t.videoFile,t.outHandle);case 10:return r=e.sent,n=r.width,s=r.height,1280===n&&720===s&&(this.wide=!0),24===this.osdReader.header.config.fontWidth&&(this.hd=!0),this.wide||this.hd?(i=1280,a=720):(i=n,a=s),this.outWidth=i,this.outHeight=a,this.osdCanvas=new OffscreenCanvas(this.osdReader.header.config.fontWidth*this.osdReader.header.config.charWidth,this.osdReader.header.config.fontHeight*this.osdReader.header.config.charHeight),this.osdCtx=this.osdCanvas.getContext("2d"),this.frameCanvas=new OffscreenCanvas(this.outWidth,this.outHeight),this.frameCtx=this.frameCanvas.getContext("2d"),this.lastOsdIndex=0,e.prev=23,e.next=26,this.processor.process({width:i,height:a});case 26:this.postMessage({type:x.MessageType.COMPLETE}),e.next=33;break;case 29:throw e.prev=29,e.t0=e.catch(23),this.postMessage({type:x.MessageType.ERROR,error:e.t0}),e.t0;case 33:case"end":return e.stop()}}),e,this,[[23,29]])})));return function(t){return e.apply(this,arguments)}}()},{key:"modifyFrame",value:function(e,t){var r,n=this.osdCanvas,s=this.osdCtx,i=this.frameCanvas,a=this.frameCtx;(s.clearRect(0,0,n.width,n.height),this.chromaKey)?(a.fillStyle=this.chromaKeyColor,a.fillRect(0,0,i.width,i.height)):(r=this.hd||this.wide?(this.outWidth-e.width)/2:0,a.drawImage(e,r,0));if(this.lastOsdIndex<this.osdReader.frames.length-1){var u=this.lastOsdIndex+1;t>=this.osdReader.frames[u].frameNumber&&(this.lastOsdIndex=u)}for(var c,o=this.osdReader.frames[this.lastOsdIndex],h=0;h<22;h++)for(var f=0;f<60;f++){var p=h+22*f,d=o.frameData[p],x=void 0;x=this.hd?d<Re?this.fontPack.hd1:this.fontPack.hd2:d<Re?this.fontPack.sd1:this.fontPack.sd2,s.drawImage(x.getTile(d%Re),f*this.osdReader.header.config.fontWidth,h*this.osdReader.header.config.fontHeight)}c=i.height/n.height<i.width/n.width?i.height/n.height:i.width/n.width;var l=n.width*c,v=n.height*c,m=(i.width-l)/2,y=(i.height-v)/2;return a.drawImage(n,m,y,l,v),i.transferToImageBitmap()}},{key:"progressInit",value:function(e){this.postMessage((0,i.Z)({type:x.MessageType.PROGRESS_INIT},e))}},{key:"progressUpdate",value:function(e){this.postMessage((0,i.Z)({type:x.MessageType.PROGRESS_UPDATE},e),(0,s.Z)(e.preview?[e.preview]:[]))}},{key:"onMessage",value:function(e){var t=e.data;if(t.type!==x.MessageType.START)throw new Error("Unknown message type received");this.start({chromaKey:t.chromaKey,chromaKeyColor:t.chromaKeyColor,fontFiles:t.fontFiles,osdFile:t.osdFile,outHandle:t.outHandle,videoFile:t.videoFile})}},{key:"postMessage",value:function(e){function t(t,r){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){t?postMessage(e,t):postMessage(e)}))}]),e}();new ze}},t={};function r(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={exports:{}};return e[n].call(i.exports,i,i.exports,r),i.exports}r.m=e,r.x=function(){var e=r.O(void 0,[193],(function(){return r(883)}));return e=r.O(e)},function(){var e=[];r.O=function(t,n,s,i){if(!n){var a=1/0;for(h=0;h<e.length;h++){n=e[h][0],s=e[h][1],i=e[h][2];for(var u=!0,c=0;c<n.length;c++)(!1&i||a>=i)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(u=!1,i<a&&(a=i));if(u){e.splice(h--,1);var o=s();void 0!==o&&(t=o)}}return t}i=i||0;for(var h=e.length;h>0&&e[h-1][2]>i;h--)e[h]=e[h-1];e[h]=[n,s,i]}}(),r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,{a:t}),t},r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=function(e){return Promise.all(Object.keys(r.f).reduce((function(t,n){return r.f[n](e,t),t}),[]))},r.u=function(e){return"static/js/"+e+".34d22fc3.chunk.js"},r.miniCssF=function(e){},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",function(){var e={883:1};r.f.i=function(t,n){e[t]||importScripts(r.p+r.u(t))};var t=self.webpackChunkwtfos_configurator=self.webpackChunkwtfos_configurator||[],n=t.push.bind(t);t.push=function(t){var s=t[0],i=t[1],a=t[2];for(var u in i)r.o(i,u)&&(r.m[u]=i[u]);for(a&&a(r);s.length;)e[s.pop()]=1;n(t)}}(),function(){var e=r.x;r.x=function(){return r.e(193).then(e)}}();r.x()}();
//# sourceMappingURL=883.98065e77.chunk.js.map